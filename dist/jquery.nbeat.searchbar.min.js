!function(n){n.nbeatsearchbar=function(n,t){this.init(n,t)},n.extend(n.nbeatsearchbar.prototype,{settings:{cssClass:"nbeatsearchbar",formId:null,inputIdTransform:function(n){return n+"-nbeatsearchbar"},inputNameTransform:function(n){}},debug:!1,container:null,submit:null,input:null,icon:null,form:null,isopen:!1,init:function(t,i){this.settings=n.extend({},this.settings,i),this.container=n(t),this.submit=n(".menu-search-submit",this.container),this.input=n(".menu-search-input",this.container),this.icon=n(".menu-search-icon",this.container),this.form=n("form",this.container),this.handleEvents()},handleEvents:function(){var n=this,t=!1,i=!1;this.container.on("click touchstart focus",function(i){if(!t&&(t=!0,setTimeout(function(){t=!1},100),!1===n.isopen))return i.stopPropagation(),n.expand(),!1}),this.input.on("focusout",function(t){var e=t.relatedTarget;if(!i){if(i=!0,setTimeout(function(){i=!1},100),e&&e.className&&"menu-search-submit"===e.className)return void this.form.submit();!0===n.isopen&&n.collapse()}})},expand:function(){this.container.addClass("expanded"),this.isopen=!0,this.input.focus(),this.container.removeAttr("tabindex")},collapse:function(){this.container.removeClass("expanded"),this.isopen=!1,this.container.attr("tabindex",0)},log:function(n){this.debug}}),n.fn.nbeatsearchbar=function(t){return this.each(function(){n(this).data("nbeatsearchbar",new n.nbeatsearchbar(this,t))}),this}}(jQuery);