!function(t,n,e,i){"use strict";var r="nbeatSpecialNumber",s={propertyName:"value"};function u(n,e){this.element=t(n),this.settings=t.extend({},s,e),this._defaults=s,this._name=r,this.debug=!0,this.init()}t.extend(u.prototype,{init:function(){this.initEventHandlers(),1==this.debug&&console.log(this)},initEventHandlers:function(){var t=this;this.element.on("change",function(){t.validate()})},validate:function(){var t=!1;switch(this.settings.format){case"no.nin":t=this.validateNoNin();break;case"no.bankAccount":t=this.validateNoBankAccount();break;default:console.log("nbeat.specialNumber: Unknown number format '"+this.settings.format+"'")}console.log(this.element),1==t?this.element.get(0).setCustomValidity(""):this.element.get(0).setCustomValidity("nbeatSpecialNumber: Invalid number value.")},validateNoNin:function(){function t(t){const n=parseInt(t[0]),e=parseInt(t[2]);return 8===n||9===n?"FHNumber":n>=4&&n<=7?"DNumber":4===e||5===e?"HNumber":"birthNumber"}function n(t){const n=t.slice(0,4),e=t.slice(4,6),r=parseInt(e),s=parseInt(t.slice(6,9));let u="20";s>=0&&s<500?u="19":s>=500&&s<750&&r>=54?u="18":s>=900&&s<1e3&&r>=40&&(u="19");const a=moment(n+u+e,"DDMMYYYY",!0);return a.isValid()?a:i}var e=this.element.val();return e.trim(),e=e.replace(/\s/g,""),!(isNaN(e)||11!=e.length||!function(t){function n(t,n){return t.reduce((t,e,i)=>t+e*n[i],0)%11==0}const e=t.split("").map(Number);return n([3,7,6,1,8,9,4,5,2,1],e)&&n([5,4,3,2,7,6,5,4,3,2,1],e)}(e))&&("FHNumber"===t(e)||function(e){const r=function(e){const r=function(e){if(11!==e.length)return i;switch(t(e)){case"birthNumber":return function(t){return n(t)}(e);case"DNumber":return function(t){return n((parseInt(t[0])-4).toString()+t.slice(1,11))}(e);case"HNumber":return function(t){const e=(parseInt(t[2])-4).toString();return n(t.slice(0,2)+e+t.slice(3,11))}(e)}return i}(e);if(null==r)return i;const s=moment().diff(r,"years");return s>=0&&s<125?s:i}(e);return null==r?[]:[r]}(e).length>0)},validateNoBankAccount:function(){function t(t){var n=0;t.split("").reverse().forEach(function(t,e){n+=parseInt(t,10)*(e%6+2)});var e=n%11;return 0===e?"0":1===e?"-":11-e+""}var n,e,i=this.element.val();return i.trim(),i=i.replace(/\D/g,""),!isNaN(i)&&11==i.length&&(e=(n=i).length-1,n.substr(e)===t(n.substr(0,e)))}}),t.fn[r]=function(n){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new u(this,n))})}}(jQuery,window,document);