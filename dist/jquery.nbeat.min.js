!function(t){t.fn.a11yJumpMenu=function(){var e=this;this.addClass("a11y-jump-menu"),this.attr("tabindex",0),this.$fixture=t(['<div class="a11y-skip-nav">','  <ul class="a11y-toolbar" role="menubar">','    <li role="presentation">','      <a class="menu-item" role="button" id="a11y-jump-to-link" aria-haspopup="true" href="#" aria-controls="a11y-sub-menu" tabindex="0">',"        Gå til innhold &#8964;","      </a>",'      <ol id="a11y-sub-menu" role="menu" class="a11y-hidden" aria-expanded="false">',"      </ol>","    </li>",'    <li class="details" role="presentation">','      <a class="menu-item" id="a11y-feedback" href="mailto:">Gi oss tilbakemelding om tilgjengelighet</a>','      <button id="a11y-menu-close" class="close menu-item" role="button">Lukk meny</button>',"    </li>","  </ul>","</div>"].join("\n")),this.html(this.$fixture);var n=1;return t("h1, h2").each(function(){var e=t(this).attr("id"),i=t(this).text();void 0!==e&&!1!==e||(e="hdr-"+n,++n,t(this).attr("id",e)),t("#a11y-sub-menu").append('<li role="menuitem"><a class="sub-item" tabindex="0" href="#'+e+'">'+i+"</a></li>")}),this.on("focus",function(){t("#a11y-jump-to-link").focus(),e.addClass("visible")}),t("#a11y-menu-close").on("click",function(t){!0!==t.handled&&(e.removeClass("visible"),t.handled=!0)}),t(".a11y-toolbar .menu-item").on("keydown",function(e){var n=t(this).attr("id");!0!==e.handled&&(39==e.keyCode?"a11y-jump-to-link"==n?t("#a11y-feedback").focus():"a11y-feedback"==n&&t("#a11y-menu-close").focus():37==e.keyCode&&("a11y-menu-close"==n?t("#a11y-feedback").focus():"a11y-feedback"==n&&t("#a11y-jump-to-link").focus()))}),t("#a11y-jump-to-link").on("keydown",function(e){!0!==e.handled&&(t("#a11y-sub-menu").hasClass("a11y-hidden")?(e.preventDefault(),e.stopPropagation(),40!=e.keyCode&&9!=e.keyCode||(t("#a11y-sub-menu").attr("aria-expanded",!0),t("#a11y-sub-menu").removeClass("a11y-hidden"),t("#a11y-sub-menu .sub-item").first().focus(),e.handled=!0)):40==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t("#a11y-sub-menu .sub-item").first().focus()))}),t("#a11y-sub-menu .sub-item").each(function(e){t(this).on("keydown",function(e){!0!==e.handled&&(40==e.keyCode?(e.preventDefault(),e.stopPropagation(),t(this).parent().next().children("a").first().focus(),e.handled=!0):38==e.keyCode?(e.preventDefault(),e.stopPropagation(),t(this).parent().prev().children("a").first().focus(),e.handled=!0):39==e.keyCode&&t("#a11y-feedback").focus())})}),t("#a11y-jump-to-link").on("click",function(e){e.preventDefault(),e.stopPropagation(),!0!==e.handled&&(t("#a11y-sub-menu").attr("aria-expanded",!0),t("#a11y-sub-menu").removeClass("a11y-hidden"),e.handled=!0)}),t("#a11y-menu-close").on("focus",function(t){!0!==t.handled&&(e.addClass("visible"),t.handled=!0)}),t(e).on("keydown",function(t){27==t.keyCode&&!0!==t.handled&&(e.removeClass("visible"),t.handled=!0)}),this}}(jQuery),function(t){t.fn.a11yJumpMenu=function(){var e=this;this.addClass("a11y-jump-menu"),this.attr("tabindex",0),this.$fixture=t(['<div class="a11y-skip-nav">','  <ul class="a11y-toolbar" role="menubar">','    <li role="presentation">','      <a class="menu-item" role="button" id="a11y-jump-to-link" aria-haspopup="true" href="#" aria-controls="a11y-sub-menu" tabindex="0">',"        Gå til innhold &#8964;","      </a>",'      <ol id="a11y-sub-menu" role="menu" class="a11y-hidden" aria-expanded="false">',"      </ol>","    </li>",'    <li class="details" role="presentation">','      <a class="menu-item" id="a11y-feedback" href="mailto:">Gi oss tilbakemelding om tilgjengelighet</a>','      <button id="a11y-menu-close" class="close menu-item" role="button">Lukk meny</button>',"    </li>","  </ul>","</div>"].join("\n")),this.html(this.$fixture);var n=1;return t("h1, h2").each(function(){var e=t(this).attr("id"),i=t(this).text();void 0!==e&&!1!==e||(e="hdr-"+n,++n,t(this).attr("id",e)),t("#a11y-sub-menu").append('<li role="menuitem"><a class="sub-item" tabindex="0" href="#'+e+'">'+i+"</a></li>")}),this.on("focus",function(){t("#a11y-jump-to-link").focus(),e.addClass("visible")}),t("#a11y-menu-close").on("click",function(t){!0!==t.handled&&(e.removeClass("visible"),t.handled=!0)}),t(".a11y-toolbar .menu-item").on("keydown",function(e){var n=t(this).attr("id");!0!==e.handled&&(39==e.keyCode?"a11y-jump-to-link"==n?t("#a11y-feedback").focus():"a11y-feedback"==n&&t("#a11y-menu-close").focus():37==e.keyCode&&("a11y-menu-close"==n?t("#a11y-feedback").focus():"a11y-feedback"==n&&t("#a11y-jump-to-link").focus()))}),t("#a11y-jump-to-link").on("keydown",function(e){!0!==e.handled&&(t("#a11y-sub-menu").hasClass("a11y-hidden")?(e.preventDefault(),e.stopPropagation(),40!=e.keyCode&&9!=e.keyCode||(t("#a11y-sub-menu").attr("aria-expanded",!0),t("#a11y-sub-menu").removeClass("a11y-hidden"),t("#a11y-sub-menu .sub-item").first().focus(),e.handled=!0)):40==e.keyCode&&(e.preventDefault(),e.stopPropagation(),t("#a11y-sub-menu .sub-item").first().focus()))}),t("#a11y-sub-menu .sub-item").each(function(e){t(this).on("keydown",function(e){!0!==e.handled&&(40==e.keyCode?(e.preventDefault(),e.stopPropagation(),t(this).parent().next().children("a").first().focus(),e.handled=!0):38==e.keyCode?(e.preventDefault(),e.stopPropagation(),t(this).parent().prev().children("a").first().focus(),e.handled=!0):39==e.keyCode&&t("#a11y-feedback").focus())})}),t("#a11y-jump-to-link").on("click",function(e){e.preventDefault(),e.stopPropagation(),!0!==e.handled&&(t("#a11y-sub-menu").attr("aria-expanded",!0),t("#a11y-sub-menu").removeClass("a11y-hidden"),e.handled=!0)}),t("#a11y-menu-close").on("focus",function(t){!0!==t.handled&&(e.addClass("visible"),t.handled=!0)}),t(e).on("keydown",function(t){27==t.keyCode&&!0!==t.handled&&(e.removeClass("visible"),t.handled=!0)}),this}}(jQuery),function(t){t.nbeatcheckbox=function(t,e){this.init(t,e)},t.extend(t.nbeatcheckbox.prototype,{settings:{cssClass:"nbeatcheckbox",formId:null,inputIdTransform:function(t){return t+"-nbeatcheckbox"},inputNameTransform:function(t){}},debug:!1,checkbox:null,toggle:null,toggleIsExpanded:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.checkbox=t(e),this.checkbox.attr("id")||console.log("Warning: Checkbox is missing id attribute."),this.checkbox.data("toggle")&&(this.toggle=t(this.checkbox.data("toggle"))),this.handleEvents()},handleEvents:function(){var t=this;t.checkbox.on("change",function(e){console.log(t.checkbox),t.checkbox.is(":checked")?(console.log("  - checked"),t.expandToggleContent()):(console.log("  - not checked"),t.collapseToggleContent())})},expandToggleContent:function(){this.toggle.slideDown(350)},collapseToggleContent:function(){this.toggle.slideUp(350)},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatcheckbox=function(e){return this.each(function(){t(this).data("nbeatcheckbox",new t.nbeatcheckbox(this,e))}),this}}(jQuery),function(t){t.nbeatcheckbox=function(t,e){this.init(t,e)},t.extend(t.nbeatcheckbox.prototype,{settings:{cssClass:"nbeatcheckbox",formId:null,inputIdTransform:function(t){return t+"-nbeatcheckbox"},inputNameTransform:function(t){}},debug:!1,checkbox:null,toggle:null,toggleIsExpanded:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.checkbox=t(e),this.checkbox.attr("id")||console.log("Warning: Checkbox is missing id attribute."),this.checkbox.data("toggle")&&(this.toggle=t(this.checkbox.data("toggle"))),this.handleEvents()},handleEvents:function(){var t=this;t.checkbox.on("change",function(e){console.log(t.checkbox),t.checkbox.is(":checked")?(console.log("  - checked"),t.expandToggleContent()):(console.log("  - not checked"),t.collapseToggleContent())})},expandToggleContent:function(){this.toggle.slideDown(350)},collapseToggleContent:function(){this.toggle.slideUp(350)},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatcheckbox=function(e){return this.each(function(){t(this).data("nbeatcheckbox",new t.nbeatcheckbox(this,e))}),this}}(jQuery),function(t){t.nbeatgridaccordion=function(t,e){this.init(t,e)},t.extend(t.nbeatgridaccordion.prototype,{settings:{cssClass:"nbeatgridaccordion",inputIdTransform:function(t){return t+"-nbeatgridaccordion"},inputNameTransform:function(t){}},debug:!1,grid:null,items:{},subId:0,subPosition:0,numitems:0,perline:1,resizeTimer:null,init:function(e,n){this.settings=t.extend({},this.settings,n),this.grid=t(e),this.buildItemList(),this.calculateItemsPerLine(),this.handleEvents()},buildItemList:function(){var e=this,n=0;this.grid.children().each(function(){var i=t(this)[0].id;e.items[i]=n,++n}),this.numitems=n},realWidth:function(e){var n=e.clone();n.css("visibility","hidden"),t("body").append(n);var i=n.outerWidth();return n.remove(),i},calculateItemsPerLine:function(){var e=t(".list-item",this.grid).first(),n=e.width(),i=this.grid.width(),s=Math.round(n/i*100);this.log("Real Calc, el: "+this.realWidth(e)),this.log("Real Calc, elWidth: "+this.realWidth(this.grid)),this.log("Calc, el: "+e),this.log("Calc, elWidth: "+n),this.log("Calc, gridWidth: "+i),this.log("Calc, percentage: "+s),this.perline=s<=21?5:s<=26?4:s<=34?3:s<=51?2:1,this.log("Calc items per line: "+this.perline)},handleEvents:function(){var e=this;t(window).resize(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.calculateItemsPerLine(),e.repositionSubMenu()},250)}),t(".list-item",e.grid).on("click",function(n){e.calculateItemsPerLine(),t(this).hasClass("is-selected")?e.resetGrid():(e.subId=n.currentTarget.id,e.markSelected(),e.insertSubMenu())})},calculateSubMenuPosition:function(){var e=this.items[this.subId],n=0;return t("#"+this.subId),(n=Math.floor(e/this.perline)*this.perline+(this.perline-1))>=this.numitems&&(n=this.numitems-1),n},repositionSubMenu:function(){if(!(t(".expanded-category",this.grid).length<1)){var e=this.calculateSubMenuPosition(),n=t(".expanded-category",this.grid);this.log("Submenu position. Current: "+this.subPosition+". New: "+e),e!=this.subPosition&&(n.detach(),t(".list-item",this.grid).eq(e).after(n),this.subPosition=e),this.markSelected()}},resetGrid:function(){this.removeSubMenu(),t(".list-item",this.grid).removeClass("is-selected is-selected-neighbour")},markSelected:function(){var e=this.items[this.subId],n=Math.floor(e/this.perline)*this.perline;t(".is-selected-neighbour",this.grid).removeClass("is-selected-neighbour");for(var i=n;i<=n+(this.perline-1);++i)t(".list-item",this.grid).eq(i).addClass("is-selected-neighbour");t(".list-item",this.grid).removeClass("is-selected"),t("#"+this.subId).removeClass("is-selected-neighbour"),t("#"+this.subId).addClass("is-selected")},insertSubMenu:function(){var e=this.calculateSubMenuPosition(this.subId),n=t("<div>").addClass("expanded-category"),i=t("<ul>"),s=t("#"+this.subId+" .list-item-children").html();this.removeSubMenu(),i.html(s),n.append(i),t(".list-item",this.grid).eq(e).after(n),n.slideDown(),this.subPosition=e},removeSubMenu:function(){t(".expanded-category",this.grid).slideUp(function(){t(this).remove()})},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatgridaccordion=function(e){return this.each(function(){t(this).data("nbeatgridaccordion",new t.nbeatgridaccordion(this,e))}),this}}(jQuery),function(t){t.nbeatgridaccordion=function(t,e){this.init(t,e)},t.extend(t.nbeatgridaccordion.prototype,{settings:{cssClass:"nbeatgridaccordion",inputIdTransform:function(t){return t+"-nbeatgridaccordion"},inputNameTransform:function(t){}},debug:!1,grid:null,items:{},subId:0,subPosition:0,numitems:0,perline:1,resizeTimer:null,init:function(e,n){this.settings=t.extend({},this.settings,n),this.grid=t(e),this.buildItemList(),this.calculateItemsPerLine(),this.handleEvents()},buildItemList:function(){var e=this,n=0;this.grid.children().each(function(){var i=t(this)[0].id;e.items[i]=n,++n}),this.numitems=n},realWidth:function(e){var n=e.clone();n.css("visibility","hidden"),t("body").append(n);var i=n.outerWidth();return n.remove(),i},calculateItemsPerLine:function(){var e=t(".list-item",this.grid).first(),n=e.width(),i=this.grid.width(),s=Math.round(n/i*100);this.log("Real Calc, el: "+this.realWidth(e)),this.log("Real Calc, elWidth: "+this.realWidth(this.grid)),this.log("Calc, el: "+e),this.log("Calc, elWidth: "+n),this.log("Calc, gridWidth: "+i),this.log("Calc, percentage: "+s),this.perline=s<=21?5:s<=26?4:s<=34?3:s<=51?2:1,this.log("Calc items per line: "+this.perline)},handleEvents:function(){var e=this;t(window).resize(function(){clearTimeout(e.resizeTimer),e.resizeTimer=setTimeout(function(){e.calculateItemsPerLine(),e.repositionSubMenu()},250)}),t(".list-item",e.grid).on("click",function(n){e.calculateItemsPerLine(),t(this).hasClass("is-selected")?e.resetGrid():(e.subId=n.currentTarget.id,e.markSelected(),e.insertSubMenu())})},calculateSubMenuPosition:function(){var e=this.items[this.subId],n=0;t("#"+this.subId);return(n=Math.floor(e/this.perline)*this.perline+(this.perline-1))>=this.numitems&&(n=this.numitems-1),n},repositionSubMenu:function(){if(!(t(".expanded-category",this.grid).length<1)){var e=this.calculateSubMenuPosition(),n=t(".expanded-category",this.grid);this.log("Submenu position. Current: "+this.subPosition+". New: "+e),e!=this.subPosition&&(n.detach(),t(".list-item",this.grid).eq(e).after(n),this.subPosition=e),this.markSelected()}},resetGrid:function(){this.removeSubMenu(),t(".list-item",this.grid).removeClass("is-selected is-selected-neighbour")},markSelected:function(){var e=this.items[this.subId],n=Math.floor(e/this.perline)*this.perline;t(".is-selected-neighbour",this.grid).removeClass("is-selected-neighbour");for(var i=n;i<=n+(this.perline-1);++i)t(".list-item",this.grid).eq(i).addClass("is-selected-neighbour");t(".list-item",this.grid).removeClass("is-selected"),t("#"+this.subId).removeClass("is-selected-neighbour"),t("#"+this.subId).addClass("is-selected")},insertSubMenu:function(){var e=this.calculateSubMenuPosition(this.subId),n=t("<div>").addClass("expanded-category"),i=t("<ul>"),s=t("#"+this.subId+" .list-item-children").html();this.removeSubMenu(),i.html(s),n.append(i),t(".list-item",this.grid).eq(e).after(n),n.slideDown(),this.subPosition=e},removeSubMenu:function(){t(".expanded-category",this.grid).slideUp(function(){t(this).remove()})},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatgridaccordion=function(e){return this.each(function(){t(this).data("nbeatgridaccordion",new t.nbeatgridaccordion(this,e))}),this}}(jQuery),function(t){t.nbeatinput=function(t,e){this.init(t,e)},t.extend(t.nbeatinput.prototype,{settings:{cssClass:"nbeatinput",formId:null,useButton:!1,fillClass:"filled",inputIdTransform:function(t){return t+"-nbeatinput"},inputNameTransform:function(t){}},debug:!1,input:null,button:null,icon:null,init:function(e,n){this.settings=t.extend({},this.settings,n),this.input=t(e),this.renderControls(),this.settings.useButton&&(this.adjustButtonPosition(),this.setPreselectedIcon()),this.handleEvents()},renderControls:function(){this.icon=t("<span>").attr({id:this.settings.inputIdTransform(this.input.attr("id"))+"-icon"}).addClass("icon"),this.settings.useButton&&(this.button=t("<div>").attr({id:this.settings.inputIdTransform(this.input.attr("id"))+"-button",tabindex:0}).addClass("nbeatinput-icon").attr("role","button"),this.button.append(this.icon),this.input.after(this.button))},adjustButtonPosition:function(){var e=t("~ .input-group-btn",this.input);if(e.length>0){var n=e.width();this.button.css("right",n)}},handleEvents:function(){this.registerInputEvents(),this.settings.useButton&&this.registerButtonEvents()},setPreselectedIcon:function(){""!=this.input.val()&&this.setClearIcon()},registerInputEvents:function(){var t=this;this.input.on("keyup input change",function(e){t.inputIsEmpty()?(t.removeIcon(),t.input.removeClass(t.settings.fillClass)):(t.setClearIcon(),t.input.addClass(t.settings.fillClass))})},registerButtonEvents:function(){var t=this;this.button.mousedown(function(e){!0===t.debug&&console.log("icon: click"),e.preventDefault(),e.stopPropagation(),t.icon.hasClass("icon-close")&&(t.reset(),t.input.focus())}),this.button.keydown(function(e){switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),t.reset(),t.input.focus()}})},reset:function(){this.input.val(""),this.removeIcon()},focus:function(){this.input.focus()},inputIsEmpty:function(){return this.input.val().length<1},hasIcon:function(){return!!this.icon.hasClass("icon-close")},removeIcon:function(){this.icon.removeClass("icon-close")},setClearIcon:function(){this.icon.addClass("icon-close")},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatinput=function(e){return this.each(function(){"INPUT"==this.tagName&&t(this).data("nbeatinput",new t.nbeatinput(this,e))}),this}}(jQuery),function(t){t.nbeatinput=function(t,e){this.init(t,e)},t.extend(t.nbeatinput.prototype,{settings:{cssClass:"nbeatinput",formId:null,useButton:!1,fillClass:"filled",inputIdTransform:function(t){return t+"-nbeatinput"},inputNameTransform:function(t){}},debug:!1,input:null,button:null,icon:null,init:function(e,n){this.settings=t.extend({},this.settings,n),this.input=t(e),this.renderControls(),this.settings.useButton&&(this.adjustButtonPosition(),this.setPreselectedIcon()),this.handleEvents()},renderControls:function(){this.icon=t("<span>").attr({id:this.settings.inputIdTransform(this.input.attr("id"))+"-icon"}).addClass("icon"),this.settings.useButton&&(this.button=t("<div>").attr({id:this.settings.inputIdTransform(this.input.attr("id"))+"-button",tabindex:0}).addClass("nbeatinput-icon").attr("role","button"),this.button.append(this.icon),this.input.after(this.button))},adjustButtonPosition:function(){var e=t("~ .input-group-btn",this.input);if(e.length>0){var n=e.width();this.button.css("right",n)}},handleEvents:function(){this.registerInputEvents(),this.settings.useButton&&this.registerButtonEvents()},setPreselectedIcon:function(){""!=this.input.val()&&this.setClearIcon()},registerInputEvents:function(){var t=this;this.input.on("keyup input change",function(e){t.inputIsEmpty()?(t.removeIcon(),t.input.removeClass(t.settings.fillClass)):(t.setClearIcon(),t.input.addClass(t.settings.fillClass))})},registerButtonEvents:function(){var t=this;this.button.mousedown(function(e){!0===t.debug&&console.log("icon: click"),e.preventDefault(),e.stopPropagation(),t.icon.hasClass("icon-close")&&(t.reset(),t.input.focus())}),this.button.keydown(function(e){switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),t.reset(),t.input.focus()}})},reset:function(){this.input.val(""),this.removeIcon()},focus:function(){this.input.focus()},inputIsEmpty:function(){return this.input.val().length<1},hasIcon:function(){return!!this.icon.hasClass("icon-close")},removeIcon:function(){this.icon.removeClass("icon-close")},setClearIcon:function(){this.icon.addClass("icon-close")},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatinput=function(e){return this.each(function(){"INPUT"==this.tagName&&t(this).data("nbeatinput",new t.nbeatinput(this,e))}),this}}(jQuery),function(t){t.nbeatmenu=function(t,e){this.init(t,e)},t.extend(t.nbeatmenu.prototype,{settings:{cssClass:"nbeatmenu",formId:null,inputIdTransform:function(t){return t+"-nbeatmenu"},inputNameTransform:function(t){}},debug:!1,container:null,button:null,menu:null,isopen:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.container=t(e),this.button=t(".menu-button",this.container),this.menu=t(".menu-data",this.container),this.handleEvents()},handleEvents:function(){var e=this,n=!1;this.button.on("click touchstart",function(t){return n||(n=!0,setTimeout(function(){n=!1},100),e.menu.toggleClass("visible"),e.isopen,e.isopen=!0),!1}),t("a",this.menu).on("click touchstart",function(t){var e=!1;e||(e=!0,setTimeout(function(){e=!1},100)),t.stopPropagation()})},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatmenu=function(e){return this.each(function(){t(this).data("nbeatmenu",new t.nbeatmenu(this,e))}),this}}(jQuery),function(t){t.nbeatmenu=function(t,e){this.init(t,e)},t.extend(t.nbeatmenu.prototype,{settings:{cssClass:"nbeatmenu",formId:null,inputIdTransform:function(t){return t+"-nbeatmenu"},inputNameTransform:function(t){}},debug:!1,container:null,button:null,menu:null,isopen:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.container=t(e),this.button=t(".menu-button",this.container),this.menu=t(".menu-data",this.container),this.handleEvents()},handleEvents:function(){var e=this,n=!1;this.button.on("click touchstart",function(t){return n||(n=!0,setTimeout(function(){n=!1},100),e.menu.toggleClass("visible"),e.isopen,e.isopen=!0),!1}),t("a",this.menu).on("click touchstart",function(t){var e=!1;e||(e=!0,setTimeout(function(){e=!1},100)),t.stopPropagation()})},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatmenu=function(e){return this.each(function(){t(this).data("nbeatmenu",new t.nbeatmenu(this,e))}),this}}(jQuery),function(t){t.nbeatradio=function(t,e){this.init(t,e)},t.extend(t.nbeatradio.prototype,{settings:{cssClass:"nbeatradio",formId:null,inputIdTransform:function(t){return t+"-nbeatradio"},inputNameTransform:function(t){}},debug:!1,radio:null,name:null,toggle:null,toggleIsExpanded:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.radio=t(e),this.radio.attr("id")||console.log("Warning: Radio button is missing id attribute."),this.radio.attr("name")?this.name=this.radio.attr("name"):console.log("Warning: Radio button is missing name attribute."),this.radio.data("toggle")&&(this.toggle=t(this.radio.data("toggle"))),this.handleEvents()},handleEvents:function(){var e=this;t("input[name="+this.name+"]:radio").on("change",function(n){t("input[name="+e.name+"]:checked").first().attr("id")==e.radio.attr("id")?e.expandToggleContent():e.collapseToggleContent()})},expandToggleContent:function(){this.toggle.slideDown(350)},collapseToggleContent:function(){this.toggle.slideUp(350)},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatradio=function(e){return this.each(function(){t(this).data("nbeatradio",new t.nbeatradio(this,e))}),this}}(jQuery),function(t){t.nbeatradio=function(t,e){this.init(t,e)},t.extend(t.nbeatradio.prototype,{settings:{cssClass:"nbeatradio",formId:null,inputIdTransform:function(t){return t+"-nbeatradio"},inputNameTransform:function(t){}},debug:!1,radio:null,name:null,toggle:null,toggleIsExpanded:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.radio=t(e),this.radio.attr("id")||console.log("Warning: Radio button is missing id attribute."),this.radio.attr("name")?this.name=this.radio.attr("name"):console.log("Warning: Radio button is missing name attribute."),this.radio.data("toggle")&&(this.toggle=t(this.radio.data("toggle"))),this.handleEvents()},handleEvents:function(){var e=this;t("input[name="+this.name+"]:radio").on("change",function(n){t("input[name="+e.name+"]:checked").first().attr("id")==e.radio.attr("id")?e.expandToggleContent():e.collapseToggleContent()})},expandToggleContent:function(){this.toggle.slideDown(350)},collapseToggleContent:function(){this.toggle.slideUp(350)},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatradio=function(e){return this.each(function(){t(this).data("nbeatradio",new t.nbeatradio(this,e))}),this}}(jQuery),function(t){t.nbeatsearchbar=function(t,e){this.init(t,e)},t.extend(t.nbeatsearchbar.prototype,{settings:{cssClass:"nbeatsearchbar",formId:null,inputIdTransform:function(t){return t+"-nbeatsearchbar"},inputNameTransform:function(t){}},debug:!1,container:null,submit:null,input:null,icon:null,form:null,isopen:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.container=t(e),this.submit=t(".menu-search-submit",this.container),this.input=t(".menu-search-input",this.container),this.icon=t(".menu-search-icon",this.container),this.form=t("form",this.container),this.handleEvents()},handleEvents:function(){var t=this,e=!1,n=!1;this.container.on("click touchstart focus",function(n){if(!e&&(e=!0,setTimeout(function(){e=!1},100),!1===t.isopen))return n.stopPropagation(),t.expand(),!1}),this.input.on("focusout",function(e){var i=e.relatedTarget;if(!n){if(n=!0,setTimeout(function(){n=!1},100),i&&i.className&&"menu-search-submit"===i.className)return void this.form.submit();!0===t.isopen&&t.collapse()}})},expand:function(){this.container.addClass("expanded"),this.isopen=!0,this.input.focus(),this.container.removeAttr("tabindex")},collapse:function(){this.container.removeClass("expanded"),this.isopen=!1,this.container.attr("tabindex",0)},log:function(t){this.debug}}),t.fn.nbeatsearchbar=function(e){return this.each(function(){t(this).data("nbeatsearchbar",new t.nbeatsearchbar(this,e))}),this}}(jQuery),function(t){t.nbeatsearchbar=function(t,e){this.init(t,e)},t.extend(t.nbeatsearchbar.prototype,{settings:{cssClass:"nbeatsearchbar",formId:null,inputIdTransform:function(t){return t+"-nbeatsearchbar"},inputNameTransform:function(t){}},debug:!1,container:null,submit:null,input:null,icon:null,form:null,isopen:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.container=t(e),this.submit=t(".menu-search-submit",this.container),this.input=t(".menu-search-input",this.container),this.icon=t(".menu-search-icon",this.container),this.form=t("form",this.container),this.handleEvents()},handleEvents:function(){var t=this,e=!1,n=!1;this.container.on("click touchstart focus",function(n){if(!e&&(e=!0,setTimeout(function(){e=!1},100),!1===t.isopen))return n.stopPropagation(),t.expand(),!1}),this.input.on("focusout",function(e){var i=e.relatedTarget;if(!n){if(n=!0,setTimeout(function(){n=!1},100),i&&i.className&&"menu-search-submit"===i.className)return void this.form.submit();!0===t.isopen&&t.collapse()}})},expand:function(){this.container.addClass("expanded"),this.isopen=!0,this.input.focus(),this.container.removeAttr("tabindex")},collapse:function(){this.container.removeClass("expanded"),this.isopen=!1,this.container.attr("tabindex",0)},log:function(t){this.debug}}),t.fn.nbeatsearchbar=function(e){return this.each(function(){t(this).data("nbeatsearchbar",new t.nbeatsearchbar(this,e))}),this}}(jQuery);var NbeatSelectSorter={score:function(t,e){var n=t.toLowerCase().split(" "),i=e.length;if(""==(e=e.toLowerCase()))return 1;for(var s=0;s<n.length;++s)if(n[s].substring(0,i)==e)return 1;return 0}};NbeatSelectSorter={score:function(t,e){var n=t.toLowerCase().split(" "),i=e.length;if(""==(e=e.toLowerCase()))return 1;for(var s=0;s<n.length;++s)if(n[s].substring(0,i)==e)return 1;return 0}};!function(t){t.nbeatselect=function(t,e){this.init(t,e)},t.extend(t.nbeatselect.prototype,{settings:{sortBy:"score",preSelection:!0,selectedClass:"nbeatselect-selected",dropdownClass:"nbeatselect-dropdown",showDisabledOptions:!1,autoSubmit:!1,formId:null,inputIdTransform:function(t){return t+"-nbeatselect"},inputNameTransform:function(t){},dropdownIdTransform:function(t){return t+"-nbeatselect-dropdown"}},debug:!1,select:null,inputContainer:null,input:null,button:null,icon:null,dropdown:null,dropdownList:null,label:null,cache:[],results:[],lastAbbreviation:null,abbreviationBeforeFocus:null,selectedIndex:0,picked:!1,allowMouseMove:!0,dropdownMouseover:!1,indexOptgroupLabels:!1,visible:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.select=t(e),this.reloadCache(),this.renderControls(),this.handleEvents(),this.setPreselectedIcon()},reloadCache:function(){var e,n,i,s,o=this.settings.indexOptgroupLabels;this.cache=this.select.find("option").map(function(){return e=t(this).text(),n=t(this).parent("optgroup").attr("label"),i=o?[e,n].join(" "):e,s=t(this).parent("optgroup").attr("disabled")||t(this).attr("disabled"),{text:t.trim(i),name:t.trim(e),value:t(this).val(),disabled:s,score:0}})},renderControls:function(){var e=this.settings.preSelection?this.select.find("option:selected"):null;this.inputContainer=t("<div>").addClass("nbeatselect-container"),this.input=t('<input type="text" autocomplete="off" />').attr({id:this.settings.inputIdTransform(this.select.attr("id")),name:this.settings.inputNameTransform(this.select.attr("name")),accesskey:this.select.attr("accesskey"),tabindex:this.select.attr("tabindex"),style:this.select.attr("style"),placeholder:this.select.attr("data-placeholder")}).addClass(this.select.attr("class")).attr("required",this.select.attr("required")).val(t.trim(e?e.text():"")).css({visibility:"visible"}),this.icon=t("<span>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-icon"}).addClass("icon icon-expand"),this.button=t("<div>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-button",tabindex:0}).addClass("nbeatselect-icon").attr("role","button").attr("tabindex","-1"),this.label=t("<label>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-label",tabindex:0}).text(this.select.attr("data-placeholder")).attr("tabindex","-1"),this.dropdown=t("<div></div>").attr({id:this.settings.dropdownIdTransform(this.select.attr("id"))}).addClass(this.settings.dropdownClass),this.dropdownList=t("<ul></ul>"),this.dropdown.append(this.dropdownList),this.button.append(this.icon),this.inputContainer.append(this.input),this.inputContainer.append(this.button),this.inputContainer.append(this.label),this.select.after(this.inputContainer),this.select.hide(),t("body").append(this.dropdown)},handleEvents:function(){this.registerInputEvents(),this.registerDropdownEvents(),this.registerButtonEvents()},setPreselectedIcon:function(){""!=this.input.val()&&this.setClearIcon()},registerInputEvents:function(){var e=this;this.input.click(function(){!0===e.debug&&console.log("input: click"),e.lastAbbreviation=null,e.focus(),e.renderDropdown()}),this.input.mouseup(function(t){!0===e.debug&&console.log("input: mouseup"),t.preventDefault()}),this.input.focus(function(){!0===e.debug&&console.log("input: focus"),e.abbreviationBeforeFocus=e.input.val(),e.input[0].setSelectionRange(0,e.input.val().length),e.picked||e.filterResults()}),this.input.blur(function(){!0===e.debug&&console.log("input: blur"),e.dropdownMouseover||(e.hide(),e.input.val().length<1&&e.setDefaultIcon())});var n=this.input;this.select.change(function(){!0===e.debug&&console.log("input: change"),n.val(t.trim(t(this).find("option:selected").text()))}),this.input.keyup(function(t){switch(!0===e.debug&&console.log("input: keyup"),t.keyCode){case 13:!0===e.debug&&console.log("input: enter"),t.preventDefault(),!0===e.isVisible()?(e.pickSelected(),e.focusAndHide()):(e.focusAndHide(),e.pickSelected(),e.submit(),e.setClearIcon());break;case 27:!0===e.debug&&console.log("input: escape"),t.preventDefault(),e.reset(),e.focusAndHide();break;case 40:case 38:break;default:e.filterResults()}}),this.input.keydown(function(t){switch(t.keyCode){case 9:e.pickSelected(),e.hide(),e.setClearIcon();break;case 33:t.preventDefault(),e.markFirst();break;case 34:t.preventDefault(),e.markLast();break;case 38:t.preventDefault(),e.moveSelected(-1);break;case 40:t.preventDefault(),e.moveSelected(1);break;case 13:case 27:t.preventDefault(),t.stopPropagation()}})},registerDropdownEvents:function(){var e=this;this.dropdownList.mouseover(function(n){if(!0===e.debug&&console.log("dropdownList: mouseover"),e.allowMouseMove){if("LI"==n.target.tagName){var i=e.dropdown.find("li");e.markSelected(i.index(t(n.target)))}}else e.allowMouseMove=!0}),this.dropdownList.mouseleave(function(){!0===e.debug&&console.log("dropdownList: mouseleave"),e.markSelected(-1)}),this.dropdownList.mouseup(function(t){!0===e.debug&&console.log("dropdownList: mouseup"),e.pickSelected(),e.focusAndHide(),e.setClearIcon(),e.submit()}),this.dropdownList.bind("touchstart",function(n){if(!0===e.debug&&console.log("dropdownList: touchstart"),"LI"==n.target.tagName){var i=e.dropdown.find("li");e.markSelected(i.index(t(n.target)))}}),this.dropdown.mouseover(function(t){!0===e.debug&&console.log("dropdown: mouseover"),e.dropdownMouseover=!0}),this.dropdown.mouseleave(function(t){!0===e.debug&&console.log("dropdown: mouseleave"),e.dropdownMouseover=!1}),this.dropdown.mousedown(function(t){!0===e.debug&&console.log("dropdown: mousedown"),t.preventDefault()})},registerButtonEvents:function(){var t=this;this.button.mousedown(function(e){!0===t.debug&&console.log("icon: click"),e.preventDefault(),e.stopPropagation(),t.icon.hasClass("icon-remove")?(t.fullReset(),t.input.focus(),t.markSelected(0),t.pickSelected(),t.submit()):t.icon.hasClass("icon-expand")&&(t.focus(),t.dropdown.show())}),this.button.keydown(function(e){switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),t.fullReset(),t.input.focus()}})},filterResults:function(){var e=this.settings.showDisabledOptions,n=this.input.val(),i=[],s=this.input.val();n!=this.lastAbbreviation&&(t.each(this.cache,function(){this.disabled&&!e||(this.score=NbeatSelectSorter.score(this.text,n),this.score>0&&i.push(this))}),this.results=i,""==s||"name"==this.settings.sortBy?this.sortResultsByName():this.sortResultsByScore(),this.renderDropdown(),this.markFirst(),this.lastAbbreviation=n,this.picked=!1,this.allowMouseMove=!1,0===s.length?this.removeIcon():s.length>0&&this.setClearIcon())},sortResultsByScore:function(){this.results.sort(function(t,e){return e.score-t.score})},sortResultsByName:function(){this.results.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})},renderDropdown:function(){var e=this.settings.showDisabledOptions,n=this.dropdown.outerWidth()-this.dropdown.innerWidth(),i=this.inputContainer.offset(),s="",o="";this.dropdown.css({width:this.inputContainer.outerWidth()-n+2+"px",top:i.top+this.inputContainer.outerHeight()+"px",left:i.left+"px",maxHeight:""}),t.each(this.results,function(){this.disabled&&!e||(o=this.disabled?' class="disabled"':"",s+="<li"+o+">"+this.name+"</li>")}),this.dropdownList.html(s),this.adjustMaxHeight(),this.dropdown.show()},adjustMaxHeight:function(){var e=t(window).height()+t(window).scrollTop()-this.dropdown.outerHeight(),n=parseInt(this.dropdown.css("top"),10),i=n>e?Math.max(0,e-n+this.dropdown.innerHeight())+"px":"";this.dropdown.css("max-height",i)},markSelected:function(e){if(!(e<0||e>=this.results.length)){var n=this.dropdown.find("li"),i=t(n[e]),s=i.position().top,o=s+i.outerHeight()-this.dropdown.height();i.hasClass("disabled")?this.selectedIndex=null:(this.selectedIndex=e,n.removeClass(this.settings.selectedClass),i.addClass(this.settings.selectedClass),o>0?(this.allowMouseMove=!1,this.dropdown.scrollTop(this.dropdown.scrollTop()+o)):s<0&&(this.allowMouseMove=!1,this.dropdown.scrollTop(Math.max(0,this.dropdown.scrollTop()+s))))}},pickSelected:function(){var t=this.results[this.selectedIndex];t&&!t.disabled?(this.input.val(t.name),this.setValue(t.value),this.picked=!0,this.input.addClass("filled")):this.reset()},setValue:function(t){this.select.val()!==t&&this.select.val(t).change()},hide:function(){this.dropdown.hide(),this.lastAbbreviation=null,this.visible=!1},moveSelected:function(t){this.markSelected(this.selectedIndex+t)},markFirst:function(){this.markSelected(0)},markLast:function(){this.markSelected(this.results.length-1)},reset:function(){this.input.val(this.abbreviationBeforeFocus)},fullReset:function(){this.input.val(""),this.lastAbbreviation=null,this.picked=!1,this.input.removeClass("filled")},focus:function(){this.input.focus()},focusAndHide:function(){this.focus(),this.hide()},submit:function(){!0===this.settings.autoSubmit&&t("#"+this.settings.formId).submit()},isVisible:function(){return!0===this.visible},removeIcon:function(){this.icon.removeClass("icon-expand icon-remove")},setDefaultIcon:function(){this.icon.removeClass("icon-remove").addClass("icon-expand")},setClearIcon:function(){this.icon.removeClass("icon-expand").addClass("icon-remove")},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatselect=function(e){return this.each(function(){t(this).data("nbeatselect")?t(this).data("nbeatselect").reloadCache():"SELECT"==this.tagName&&t(this).data("nbeatselect",new t.nbeatselect(this,e))}),this}}(jQuery),function(t){t.nbeatselect=function(t,e){this.init(t,e)},t.extend(t.nbeatselect.prototype,{settings:{sortBy:"score",preSelection:!0,selectedClass:"nbeatselect-selected",dropdownClass:"nbeatselect-dropdown",showDisabledOptions:!1,autoSubmit:!1,formId:null,inputIdTransform:function(t){return t+"-nbeatselect"},inputNameTransform:function(t){},dropdownIdTransform:function(t){return t+"-nbeatselect-dropdown"}},debug:!1,select:null,inputContainer:null,input:null,button:null,icon:null,dropdown:null,dropdownList:null,label:null,cache:[],results:[],lastAbbreviation:null,abbreviationBeforeFocus:null,selectedIndex:0,picked:!1,allowMouseMove:!0,dropdownMouseover:!1,indexOptgroupLabels:!1,visible:!1,init:function(e,n){this.settings=t.extend({},this.settings,n),this.select=t(e),this.reloadCache(),this.renderControls(),this.handleEvents(),this.setPreselectedIcon()},reloadCache:function(){var e,n,i,s,o=this.settings.indexOptgroupLabels;this.cache=this.select.find("option").map(function(){return e=t(this).text(),n=t(this).parent("optgroup").attr("label"),i=o?[e,n].join(" "):e,s=t(this).parent("optgroup").attr("disabled")||t(this).attr("disabled"),{text:t.trim(i),name:t.trim(e),value:t(this).val(),disabled:s,score:0}})},renderControls:function(){var e=this.settings.preSelection?this.select.find("option:selected"):null;this.inputContainer=t("<div>").addClass("nbeatselect-container"),this.input=t('<input type="text" autocomplete="off" />').attr({id:this.settings.inputIdTransform(this.select.attr("id")),name:this.settings.inputNameTransform(this.select.attr("name")),accesskey:this.select.attr("accesskey"),tabindex:this.select.attr("tabindex"),style:this.select.attr("style"),placeholder:this.select.attr("data-placeholder")}).addClass(this.select.attr("class")).attr("required",this.select.attr("required")).val(t.trim(e?e.text():"")).css({visibility:"visible"}),this.icon=t("<span>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-icon"}).addClass("icon icon-expand"),this.button=t("<div>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-button",tabindex:0}).addClass("nbeatselect-icon").attr("role","button").attr("tabindex","-1"),this.label=t("<label>").attr({id:this.settings.inputIdTransform(this.select.attr("id"))+"-label",tabindex:0}).text(this.select.attr("data-placeholder")).attr("tabindex","-1"),this.dropdown=t("<div></div>").attr({id:this.settings.dropdownIdTransform(this.select.attr("id"))}).addClass(this.settings.dropdownClass),this.dropdownList=t("<ul></ul>"),this.dropdown.append(this.dropdownList),this.button.append(this.icon),this.inputContainer.append(this.input),this.inputContainer.append(this.button),this.inputContainer.append(this.label),this.select.after(this.inputContainer),this.select.hide(),t("body").append(this.dropdown)},handleEvents:function(){this.registerInputEvents(),this.registerDropdownEvents(),this.registerButtonEvents()},setPreselectedIcon:function(){""!=this.input.val()&&this.setClearIcon()},registerInputEvents:function(){var e=this;this.input.click(function(){!0===e.debug&&console.log("input: click"),e.lastAbbreviation=null,e.focus(),e.renderDropdown()}),this.input.mouseup(function(t){!0===e.debug&&console.log("input: mouseup"),t.preventDefault()}),this.input.focus(function(){!0===e.debug&&console.log("input: focus"),e.abbreviationBeforeFocus=e.input.val(),e.input[0].setSelectionRange(0,e.input.val().length),e.picked||e.filterResults()}),this.input.blur(function(){!0===e.debug&&console.log("input: blur"),e.dropdownMouseover||(e.hide(),e.input.val().length<1&&e.setDefaultIcon())});var n=this.input;this.select.change(function(){!0===e.debug&&console.log("input: change"),n.val(t.trim(t(this).find("option:selected").text()))}),this.input.keyup(function(t){switch(!0===e.debug&&console.log("input: keyup"),t.keyCode){case 13:!0===e.debug&&console.log("input: enter"),t.preventDefault(),!0===e.isVisible()?(e.pickSelected(),e.focusAndHide()):(e.focusAndHide(),e.pickSelected(),e.submit(),e.setClearIcon());break;case 27:!0===e.debug&&console.log("input: escape"),t.preventDefault(),e.reset(),e.focusAndHide();break;case 40:case 38:break;default:e.filterResults()}}),this.input.keydown(function(t){switch(t.keyCode){case 9:e.pickSelected(),e.hide(),e.setClearIcon();break;case 33:t.preventDefault(),e.markFirst();break;case 34:t.preventDefault(),e.markLast();break;case 38:t.preventDefault(),e.moveSelected(-1);break;case 40:t.preventDefault(),e.moveSelected(1);break;case 13:case 27:t.preventDefault(),t.stopPropagation()}})},registerDropdownEvents:function(){var e=this;this.dropdownList.mouseover(function(n){if(!0===e.debug&&console.log("dropdownList: mouseover"),e.allowMouseMove){if("LI"==n.target.tagName){var i=e.dropdown.find("li");e.markSelected(i.index(t(n.target)))}}else e.allowMouseMove=!0}),this.dropdownList.mouseleave(function(){!0===e.debug&&console.log("dropdownList: mouseleave"),e.markSelected(-1)}),this.dropdownList.mouseup(function(t){!0===e.debug&&console.log("dropdownList: mouseup"),e.pickSelected(),e.focusAndHide(),e.setClearIcon(),e.submit()}),this.dropdownList.bind("touchstart",function(n){if(!0===e.debug&&console.log("dropdownList: touchstart"),"LI"==n.target.tagName){var i=e.dropdown.find("li");e.markSelected(i.index(t(n.target)))}}),this.dropdown.mouseover(function(t){!0===e.debug&&console.log("dropdown: mouseover"),e.dropdownMouseover=!0}),this.dropdown.mouseleave(function(t){!0===e.debug&&console.log("dropdown: mouseleave"),e.dropdownMouseover=!1}),this.dropdown.mousedown(function(t){!0===e.debug&&console.log("dropdown: mousedown"),t.preventDefault()})},registerButtonEvents:function(){var t=this;this.button.mousedown(function(e){!0===t.debug&&console.log("icon: click"),e.preventDefault(),e.stopPropagation(),t.icon.hasClass("icon-remove")?(t.fullReset(),t.input.focus(),t.markSelected(0),t.pickSelected(),t.submit()):t.icon.hasClass("icon-expand")&&(t.focus(),t.dropdown.show())}),this.button.keydown(function(e){switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),t.fullReset(),t.input.focus()}})},filterResults:function(){var e=this.settings.showDisabledOptions,n=this.input.val(),i=[],s=this.input.val();n!=this.lastAbbreviation&&(t.each(this.cache,function(){this.disabled&&!e||(this.score=NbeatSelectSorter.score(this.text,n),this.score>0&&i.push(this))}),this.results=i,""==s||"name"==this.settings.sortBy?this.sortResultsByName():this.sortResultsByScore(),this.renderDropdown(),this.markFirst(),this.lastAbbreviation=n,this.picked=!1,this.allowMouseMove=!1,0===s.length?this.removeIcon():s.length>0&&this.setClearIcon())},sortResultsByScore:function(){this.results.sort(function(t,e){return e.score-t.score})},sortResultsByName:function(){this.results.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})},renderDropdown:function(){var e=this.settings.showDisabledOptions,n=this.dropdown.outerWidth()-this.dropdown.innerWidth(),i=this.inputContainer.offset(),s="",o="";this.dropdown.css({width:this.inputContainer.outerWidth()-n+2+"px",top:i.top+this.inputContainer.outerHeight()+"px",left:i.left+"px",maxHeight:""}),t.each(this.results,function(){this.disabled&&!e||(o=this.disabled?' class="disabled"':"",s+="<li"+o+">"+this.name+"</li>")}),this.dropdownList.html(s),this.adjustMaxHeight(),this.dropdown.show()},adjustMaxHeight:function(){var e=t(window).height()+t(window).scrollTop()-this.dropdown.outerHeight(),n=parseInt(this.dropdown.css("top"),10),i=n>e?Math.max(0,e-n+this.dropdown.innerHeight())+"px":"";this.dropdown.css("max-height",i)},markSelected:function(e){if(!(e<0||e>=this.results.length)){var n=this.dropdown.find("li"),i=t(n[e]),s=i.position().top,o=s+i.outerHeight()-this.dropdown.height();i.hasClass("disabled")?this.selectedIndex=null:(this.selectedIndex=e,n.removeClass(this.settings.selectedClass),i.addClass(this.settings.selectedClass),o>0?(this.allowMouseMove=!1,this.dropdown.scrollTop(this.dropdown.scrollTop()+o)):s<0&&(this.allowMouseMove=!1,this.dropdown.scrollTop(Math.max(0,this.dropdown.scrollTop()+s))))}},pickSelected:function(){var t=this.results[this.selectedIndex];t&&!t.disabled?(this.input.val(t.name),this.setValue(t.value),this.picked=!0,this.input.addClass("filled")):this.reset()},setValue:function(t){this.select.val()!==t&&this.select.val(t).change()},hide:function(){this.dropdown.hide(),this.lastAbbreviation=null,this.visible=!1},moveSelected:function(t){this.markSelected(this.selectedIndex+t)},markFirst:function(){this.markSelected(0)},markLast:function(){this.markSelected(this.results.length-1)},reset:function(){this.input.val(this.abbreviationBeforeFocus)},fullReset:function(){this.input.val(""),this.lastAbbreviation=null,this.picked=!1,this.input.removeClass("filled")},focus:function(){this.input.focus()},focusAndHide:function(){this.focus(),this.hide()},submit:function(){!0===this.settings.autoSubmit&&t("#"+this.settings.formId).submit()},isVisible:function(){return!0===this.visible},removeIcon:function(){this.icon.removeClass("icon-expand icon-remove")},setDefaultIcon:function(){this.icon.removeClass("icon-remove").addClass("icon-expand")},setClearIcon:function(){this.icon.removeClass("icon-expand").addClass("icon-remove")},log:function(t){!0===this.debug&&console.log(t)}}),t.fn.nbeatselect=function(e){return this.each(function(){t(this).data("nbeatselect")?t(this).data("nbeatselect").reloadCache():"SELECT"==this.tagName&&t(this).data("nbeatselect",new t.nbeatselect(this,e))}),this}}(jQuery),function(t,e,n,i){"use strict";var s="nbeatSpecialNumber",o={propertyName:"value"};function a(e,n){this.element=t(e),this.settings=t.extend({},o,n),this._defaults=o,this._name=s,this.debug=!0,this.init()}t.extend(a.prototype,{init:function(){this.initEventHandlers(),1==this.debug&&console.log(this)},initEventHandlers:function(){var t=this;this.element.on("change",function(){t.validate()})},validate:function(){var t=!1;switch(this.settings.format){case"no.nin":t=this.validateNoNin();break;case"no.bankAccount":t=this.validateNoBankAccount();break;default:console.log("nbeat.specialNumber: Unknown number format '"+this.settings.format+"'")}console.log(this.element),1==t?this.element.get(0).setCustomValidity(""):this.element.get(0).setCustomValidity("nbeatSpecialNumber: Invalid number value.")},validateNoNin:function(){function t(t){const e=parseInt(t[0]),n=parseInt(t[2]);return 8===e||9===e?"FHNumber":e>=4&&e<=7?"DNumber":4===n||5===n?"HNumber":"birthNumber"}function e(t){const e=t.slice(0,4),n=t.slice(4,6),s=parseInt(n),o=parseInt(t.slice(6,9));let a="20";o>=0&&o<500?a="19":o>=500&&o<750&&s>=54?a="18":o>=900&&o<1e3&&s>=40&&(a="19");const r=moment(e+a+n,"DDMMYYYY",!0);return r.isValid()?r:i}var n=this.element.val();return n.trim(),n=n.replace(/\s/g,""),!(isNaN(n)||11!=n.length||!function(t){function e(t,e){return t.reduce((t,n,i)=>t+n*e[i],0)%11==0}const n=t.split("").map(Number);return e([3,7,6,1,8,9,4,5,2,1],n)&&e([5,4,3,2,7,6,5,4,3,2,1],n)}(n))&&("FHNumber"===t(n)||function(n){const s=function(n){const s=function(n){if(11!==n.length)return i;switch(t(n)){case"birthNumber":return e(n);case"DNumber":return function(t){return e((parseInt(t[0])-4).toString()+t.slice(1,11))}(n);case"HNumber":return function(t){const n=(parseInt(t[2])-4).toString();return e(t.slice(0,2)+n+t.slice(3,11))}(n)}return i}(n);if(null==s)return i;const o=moment().diff(s,"years");return o>=0&&o<125?o:i}(n);return null==s?[]:[s]}(n).length>0)},validateNoBankAccount:function(){var t,e,n=this.element.val();return n.trim(),n=n.replace(/\D/g,""),!isNaN(n)&&11==n.length&&(e=(t=n).length-1,t.substr(e)===function(t){var e=0;t.split("").reverse().forEach(function(t,n){e+=parseInt(t,10)*(n%6+2)});var n=e%11;return 0===n?"0":1===n?"-":11-n+""}(t.substr(0,e)))}}),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new a(this,e))})}}(jQuery,window,document),function(t,e,n,i){"use strict";var s="nbeatSpecialNumber",o={propertyName:"value"};function a(e,n){this.element=t(e),this.settings=t.extend({},o,n),this._defaults=o,this._name=s,this.debug=!0,this.init()}t.extend(a.prototype,{init:function(){this.initEventHandlers(),1==this.debug&&console.log(this)},initEventHandlers:function(){var t=this;this.element.on("change",function(){t.validate()})},validate:function(){var t=!1;switch(this.settings.format){case"no.nin":t=this.validateNoNin();break;case"no.bankAccount":t=this.validateNoBankAccount();break;default:console.log("nbeat.specialNumber: Unknown number format '"+this.settings.format+"'")}console.log(this.element),1==t?this.element.get(0).setCustomValidity(""):this.element.get(0).setCustomValidity("nbeatSpecialNumber: Invalid number value.")},validateNoNin:function(){function t(t){const e=parseInt(t[0]),n=parseInt(t[2]);return 8===e||9===e?"FHNumber":e>=4&&e<=7?"DNumber":4===n||5===n?"HNumber":"birthNumber"}function e(t){const e=t.slice(0,4),n=t.slice(4,6),s=parseInt(n),o=parseInt(t.slice(6,9));let a="20";o>=0&&o<500?a="19":o>=500&&o<750&&s>=54?a="18":o>=900&&o<1e3&&s>=40&&(a="19");const r=moment(e+a+n,"DDMMYYYY",!0);return r.isValid()?r:i}var n=this.element.val();return n.trim(),n=n.replace(/\s/g,""),!(isNaN(n)||11!=n.length||!function(t){function e(t,e){return t.reduce((t,n,i)=>t+n*e[i],0)%11==0}const n=t.split("").map(Number);return e([3,7,6,1,8,9,4,5,2,1],n)&&e([5,4,3,2,7,6,5,4,3,2,1],n)}(n))&&("FHNumber"===t(n)||function(n){const s=function(n){const s=function(n){if(11!==n.length)return i;switch(t(n)){case"birthNumber":return function(t){return e(t)}(n);case"DNumber":return function(t){return e((parseInt(t[0])-4).toString()+t.slice(1,11))}(n);case"HNumber":return function(t){const n=(parseInt(t[2])-4).toString();return e(t.slice(0,2)+n+t.slice(3,11))}(n)}return i}(n);if(null==s)return i;const o=moment().diff(s,"years");return o>=0&&o<125?o:i}(n);return null==s?[]:[s]}(n).length>0)},validateNoBankAccount:function(){function t(t){var e=0;t.split("").reverse().forEach(function(t,n){e+=parseInt(t,10)*(n%6+2)});var n=e%11;return 0===n?"0":1===n?"-":11-n+""}var e,n,i=this.element.val();return i.trim(),i=i.replace(/\D/g,""),!isNaN(i)&&11==i.length&&(n=(e=i).length-1,e.substr(n)===t(e.substr(0,n)))}}),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new a(this,e))})}}(jQuery,window,document);