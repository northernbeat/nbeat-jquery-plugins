!function(t,e,i,s){"use strict";let n="nbeatToc",a={targetEl:"#nbeatToc",selector:"h1, h2",itemClass:"toc__item"};function c(e,i){this.element=t(e),this.config=t.extend({},a,i),this._defaults=a,this._name=n,this.debug=!0,this.list=[],this.parseDataConfig(),this.init()}t.extend(c.prototype,{init:function(){this.parseSource(),this.renderList(),1==this.debug&&console.log(this)},parseDataConfig:function(){this.element.attr("data-toc-selector")&&(this.config.selector=this.element.attr("data-toc-selector")),this.element.attr("data-toc-itemclass")&&(this.config.itemClass=this.element.attr("data-toc-itemclass"))},parseSource:function(){let e=this;t(this.config.selector,this.element).each(function(){var i,s,n=t(this),a=(i=t("a",n).length>0?t("a",n).first():n).text();i.attr("name")?s=i.attr("name"):i.attr("id")?s=i.attr("id"):(s=e.createId(a),n.attr("id",s)),e.list.push({id:s,title:a})})},renderList:function(){let e=t(this.config.targetEl),i=this;e.empty(),t.each(this.list,function(t,s){e.append('<li class="'+i.config.itemClass+'"><a href="#'+s.id+'">'+s.title+"</a></li>")})},createId:function(t){let e=t;return e=(e=(e=e.replace(/(\W)+/g," ")).trim()).replace(/\W/g,"_")}}),t.fn[n]=function(e){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new c(this,e))})}}(jQuery,window,document);